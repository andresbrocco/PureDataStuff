#N canvas 1 88 1364 679 10;
#X obj 64 38 inlet;
#X obj 133 93 \$1;
#X obj 133 64 loadbang;
#X text 160 94 lookback period;
#X text 364 71 Argument: how many time-frames to keep (lookback period)
(matrix size), f 71;
#X text 24 15 quaternion qt (mtx 1 4);
#X obj 64 171 mtx_meshgrid;
#X obj 133 146 mtx_zeros;
#X msg 133 120 1 \$1;
#X text 72 195 Qt;
#X obj 64 61 t a a;
#X obj 154 224 mtx_scroll 1;
#X obj 97 299 mtx_concat;
#X text 103 320 Q;
#X obj 154 198 mtx_zeros;
#X msg 154 172 \$1 4;
#X obj 64 389 mtx_sum;
#X obj 64 365 mtx_transpose;
#X obj 64 413 matrix 1 \$1;
#X obj 64 436 mtx_.^ 2;
#X text 75 459 St;
#X obj 212 370 mtx_zeros \$1;
#X text 217 390 S init;
#X obj 212 410 mtx_roll 1;
#X obj 212 434 mtx_scroll 1;
#X obj 154 275 mtx_slice 2 1 end end;
#X obj 212 346 loadbang;
#X obj 212 458 mtx_slice 2 2 end end;
#X obj 155 497 mtx_slice 1 2 end end;
#X obj 64 479 t a a;
#X obj 155 521 mtx_concat;
#X text 219 477 S previous;
#X obj 64 545 mtx_concat row;
#X text 76 568 S;
#X obj 64 592 outlet;
#X text 15 622 Similarity matrix S (mtx \$1 \$1);
#X obj 64 511 mtx_transpose;
#X text 359 30 This abstraction receives a quaternion and compares
it with previous ones \, outputting a self-similarity matrix (reccurrence
matrix), f 68;
#X obj 64 341 mtx_.*;
#X connect 0 0 10 0;
#X connect 1 0 8 0;
#X connect 1 0 15 0;
#X connect 2 0 1 0;
#X connect 6 0 38 0;
#X connect 7 0 6 1;
#X connect 8 0 7 0;
#X connect 10 0 6 0;
#X connect 10 1 12 0;
#X connect 11 0 25 0;
#X connect 12 0 11 0;
#X connect 12 0 38 1;
#X connect 14 0 11 0;
#X connect 15 0 14 0;
#X connect 16 0 18 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 19 0 29 0;
#X connect 21 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 27 0;
#X connect 25 0 12 1;
#X connect 26 0 21 0;
#X connect 27 0 30 1;
#X connect 28 0 30 0;
#X connect 29 0 36 0;
#X connect 29 1 28 0;
#X connect 30 0 32 1;
#X connect 32 0 23 0;
#X connect 32 0 34 0;
#X connect 36 0 32 0;
#X connect 38 0 17 0;
